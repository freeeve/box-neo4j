name: neo4j
version: 0.0.1
inherits: wercker/ubuntu12.04-webessentials@0.0.3
type: service
platform: ubuntu@12.04
description: wercker box for neo4j, the graph database
keywords:
  - neo4j
  - opensource
  - noqsql
  - database
  - json
  - java
env:
  WERCKER_NEO4J_PORT: 7474
  WERCKER_NEO4J_HOST: $$HOST$$
  WERCKER_NEO4J_URL: $$HOST$$:7474
  WERCKER_NEO4J_VERSION: 2.0.0-M05
  WERCKER_NEO4J_DIR: neo4j-community-$$WERCKER_NEO4J_VERSION$$
  WERCKER_NEO4J_FILE: $$WERCKER_NEO4J_DIR$$-unix.tar.gz
script: |
  sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu $(lsb_release -sc) universe"
  sudo apt-get update
  sudo apt-get install openjdk-7-jdk
  wget http://dist.neo4j.org/$WERCKER_NEO4J_FILE
  tar xvfz $WERCKER_NEO4J_FILE &> /dev/null
  rm $WERCKER_NEO4J_FILE
  cd $WERCKER_NEO4J_DIR/bin
  ./neo4j start
